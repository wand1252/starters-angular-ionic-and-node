# Contributing

To get started, clone the repo, run `npm i`, and then `npm run tsc` (or `npm run
tsc -- -w`). We use TypeScript, so code must be compiled before it runs.

## Generating

You can generate the starters by running:

```bash
npm run build
```

You can build a single starter by specifying the path:

```bash
npm run build -- ionic-angular/official/tabs
```

Starters are generated by overlaying starter files (located in
`<type>/official/<name>`) onto base files (located in `<type>/base/`) into the
`build/` directory.

Then, the starter manifest file is read (located at
`<type>/official/<name>/ionic.starter.json`), invoking additional operations on
the generated starter files.

### Manifest Files

The starter manifest file is a required JSON file at the root of the starter.
The build process reads the manifest and takes actions based upon what's defined
in the file.

| Key           | Description
|---------------|-------------
| `name`        | The human-readable name.
| `baseref`     | The latest git ref (branch or sha) at which the starter is compatible with the base files (located in `<type>/base/`).
| `welcome`     | _(optional)_ A custom message to be displayed when the user runs `ionic start` on the starter.
| `packageJson` | _(optional)_ During build, the defined keys will be [recursively merged](https://lodash.com/docs/4.17.4#merge) (with the exception that arrays are replaced, not merged) into `package.json`.

### Community Starters

To submit your own starter,

1. Clone this repo.
1. Fork or copy [this repository](https://github.com/ionic-team/starter-example)
   for an example starter.
1. Add a git submodule for your starter at `<type>/community/<your github
   name>/<github repo name>`. For example:

    ```bash
    git submodule add https://github.com/ionic-team/starter-example.git ionic-angular/community/ionic-team/example
    ```

1. Build your starter. For example:

    ```bash
    npm run build -- ionic-angular/community/ionic-team/example
    ```

1. Copy the generated starter into a different directory and test it!

## Deploying

During the deploy process, the `build/` directory is read and an archive of each
generated starter is created and gzipped and uploaded to an S3 bucket. The S3
bucket has a CloudFront distribution for close-proximity downloads. The
distribution ID is `E1XZ2T0DZXJ521` and can be found [at this
URL](https://d2ql0qc7j8u4b2.cloudfront.net).

Starters are deployed automatically when new commits are pushed to the `master`
branch. To deploy manually, run:

```bash
npm run deploy
```
